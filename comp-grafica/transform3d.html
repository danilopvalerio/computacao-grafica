<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plano Cartesiano 3D</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      /* Estilo para os sliders verticais */
      .slider-vertical {
        -webkit-appearance: slider-vertical;
        appearance: slider-vertical;
        width: 40px;
        height: 300px;
        padding: 0 10px;
        margin: 0 auto;
      }

      .slider-container {
        display: inline-block;
        text-align: center;
        margin: 0 15px;
      }

      .slider-label {
        font-weight: bold;
        margin-bottom: 10px;
      }

      .axis-color {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: block;
        margin: 0 auto 10px;
      }
    </style>
  </head>
  <body>
    <div class="layout-container">
      <div class="sidebar gradient-custom-strong p-2 pt-4 m-3">
        <div class="container-fluid">
          <!-- Configurações da janela -->
          <div class="mb-3">
            <h2 class="fs-5 text-center">Configurações</h2>
            <label class="form-label w-100 text-center">Janela</label>
            <div class="row g-2 justify-content-center">
              <div class="col-6">
                <input
                  class="form-control"
                  type="number"
                  id="width"
                  value="500"
                  min="100"
                  max="1000"
                  placeholder="W"
                />
              </div>
              <div class="col-6">
                <input
                  class="form-control"
                  type="number"
                  id="height"
                  value="500"
                  min="100"
                  max="620"
                  placeholder="H"
                />
              </div>
            </div>
          </div>

          <div class="mb-3 d-grid gap-2">
            <button class="btn btn-secondary" onclick="updateCanvas3D()">
              Atualizar janela
            </button>
            <button class="btn btn-danger" onclick="clearCanvas3D()">
              Limpar
            </button>
          </div>

          <!-- Figuras -->
          <div class="mb-3">
            <h2 class="fs-5 text-center">Figuras</h2>
            <select
              class="form-select"
              id="figureSelect3D"
              onchange="changeFigure3D()"
            >
              <option value="line3d">Reta</option>
              <option value="cube3d">Cubo</option>
            </select>
          </div>

          <!-- Reta 3D -->
          <div id="line3dParams">
            <div class="row g-2">
              <div class="col-4">
                <label class="form-label">X1:</label>
                <input
                  class="form-control"
                  type="number"
                  id="x1_3d"
                  value="10"
                />
              </div>
              <div class="col-4">
                <label class="form-label">Y1:</label>
                <input
                  class="form-control"
                  type="number"
                  id="y1_3d"
                  value="10"
                />
              </div>
              <div class="col-4">
                <label class="form-label">Z1:</label>
                <input
                  class="form-control"
                  type="number"
                  id="z1_3d"
                  value="10"
                />
              </div>
              <div class="col-4">
                <label class="form-label">X2:</label>
                <input
                  class="form-control"
                  type="number"
                  id="x2_3d"
                  value="50"
                />
              </div>
              <div class="col-4">
                <label class="form-label">Y2:</label>
                <input
                  class="form-control"
                  type="number"
                  id="y2_3d"
                  value="15"
                />
              </div>
              <div class="col-4">
                <label class="form-label">Z2:</label>
                <input
                  class="form-control"
                  type="number"
                  id="z2_3d"
                  value="40"
                />
              </div>
            </div>
            <button
              class="btn btn-primary mt-5 w-100 mt-2"
              onclick="drawLineFromInputs()"
            >
              Desenhar Reta
            </button>
          </div>

          <!-- Cubo 3D -->
          <div id="cube3dParams" style="display: none">
            <div class="mb-3">
              <label class="form-label">Tamanho do Lado:</label>
              <input
                class="form-control"
                type="number"
                id="cubeSize"
                value="50"
                placeholder="Lado"
              />
            </div>
            <div class="mb-3">
              <label class="form-label">Centro (X, Y, Z):</label>
              <div class="row g-2">
                <div class="col-4">
                  <input
                    class="form-control"
                    type="number"
                    id="cx3d"
                    value="0"
                  />
                </div>
                <div class="col-4">
                  <input
                    class="form-control"
                    type="number"
                    id="cy3d"
                    value="0"
                  />
                </div>
                <div class="col-4">
                  <input
                    class="form-control"
                    type="number"
                    id="cz3d"
                    value="0"
                  />
                </div>
              </div>
            </div>
            <button class="btn btn-primary w-100" onclick="draw3DFigure()">
              Desenhar Cubo
            </button>
          </div>

          <div class="mb-4 text-center">
            <h2 class="fs-5 text-center mb-3">Controle dos Eixos</h2>

            <div class="row">
              <!-- Controles Eixo X -->
              <div class="col-12">
                <span>Eixo X</span>
                <div class="row justify-content-center">
                  <button
                    class="mb-1 col-3"
                    onmousedown="startContinuousRotation('x', 1)"
                    onmouseup="stopContinuousRotation()"
                    ontouchstart="startContinuousRotation('x', 1)"
                    ontouchend="stopContinuousRotation()"
                  >
                    ↺
                  </button>
                  <button
                    class="mb-1 col-3"
                    onmousedown="startContinuousRotation('x', -1)"
                    onmouseup="stopContinuousRotation()"
                    ontouchstart="startContinuousRotation('x', -1)"
                    ontouchend="stopContinuousRotation()"
                  >
                    ↻
                  </button>
                </div>
              </div>

              <!-- Controles Eixo Y -->
              <div class="col-12">
                <span>Eixo Y</span>
                <div class="row justify-content-center">
                  <button
                    class="mb-1 col-3"
                    class="mb-1 col-3"
                    onmousedown="startContinuousRotation('y', 1)"
                    onmouseup="stopContinuousRotation()"
                    ontouchstart="startContinuousRotation('y', 1)"
                    ontouchend="stopContinuousRotation()"
                  >
                    ↺
                  </button>
                  <button
                    class="mb-1 col-3"
                    onmousedown="startContinuousRotation('y', -1)"
                    onmouseup="stopContinuousRotation()"
                    ontouchstart="startContinuousRotation('y', -1)"
                    ontouchend="stopContinuousRotation()"
                  >
                    ↻
                  </button>
                </div>
              </div>

              <!-- Controles Eixo Z -->
              <div class="col-12">
                <span>Eixo Z</span>
                <div class="row justify-content-center">
                  <button
                    class="mb-1 col-3"
                    class="mb-1 col-3"
                    onmousedown="startContinuousRotation('z', 1)"
                    onmouseup="stopContinuousRotation()"
                    ontouchstart="startContinuousRotation('z', 1)"
                    ontouchend="stopContinuousRotation()"
                  >
                    ↺
                  </button>
                  <button
                    class="mb-1 col-3"
                    onmousedown="startContinuousRotation('z', -1)"
                    onmouseup="stopContinuousRotation()"
                    ontouchstart="startContinuousRotation('z', -1)"
                    ontouchend="stopContinuousRotation()"
                  >
                    ↻
                  </button>
                </div>
              </div>
            </div>

            <!-- Botão de animação -->
            <div class="mt-3">
              <button class="btn btn-success" onclick="animarRotacao()">
                Animar Rotação
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="main-content">
        <canvas id="canvas3D" width="500" height="500"></canvas>
        <p class="coords" id="mouseCoords3D">Coordenadas: (0, 0)</p>
      </div>
    </div>

    <button
      id="btn-3d"
      onclick="window.location.href = 'main.html'"
      title="Abrir Transformações 2D"
    >
      2D
    </button>

    <script src="script3d.js"></script>
  </body>
</html>
